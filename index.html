<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link href="/src/styles.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Expense Calculator</title>
  </head>
  <body class="container mx-auto h-screen items-center justify-center px-4 py-8 md:flex lg:items-start">
    <main id="app"></main>

    <template id="history-page">
      <div class="card flex flex-col">
        <div class="space-y-4">
          <header class="space-y-1">
            <h2 class="text-text-primary">–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤</h2>
            <p class="text-caption text-primary">–°—Ä–µ–¥–Ω–∏–µ —Ç—Ä–∞—Ç—ã –≤ –¥–µ–Ω—å: 1050 ‚ÇΩ</p>
          </header>
          <ul class="history-list">
            <template id="history-list-item">
              <li>
                <h3 class="text-text-primary">200 <span class="font-inter">‚ÇΩ</span></h3>
                <p class="text-body text-text-secondary">25 –æ–∫—Ç—è–±—Ä—è</p>
                <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M0.5 0.5L12.4956 12.4956" stroke="#6B7280" stroke-linecap="round" />
                  <path d="M0.504395 12.4956L12.5 0.499984" stroke="#6B7280" stroke-linecap="round" />
                </svg>
              </li>
            </template>

            <li>
              <h3 class="text-text-primary flex-1">200 <span class="font-inter">‚ÇΩ</span></h3>
              <p class="text-body text-text-secondary">25 –æ–∫—Ç—è–±—Ä—è</p>
              <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0.5 0.5L12.4956 12.4956" stroke="#6B7280" stroke-linecap="round" />
                <path d="M0.504395 12.4956L12.5 0.499984" stroke="#6B7280" stroke-linecap="round" />
              </svg>
            </li>
            <li>
              <h3 class="text-text-primary flex-1">200 <span class="font-inter">‚ÇΩ</span></h3>
              <p class="text-body text-text-secondary">25 –æ–∫—Ç—è–±—Ä—è</p>
              <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0.5 0.5L12.4956 12.4956" stroke="#6B7280" stroke-linecap="round" />
                <path d="M0.504395 12.4956L12.5 0.499984" stroke="#6B7280" stroke-linecap="round" />
              </svg>
            </li>
            <li>
              <h3 class="text-text-primary flex-1">200 <span class="font-inter">‚ÇΩ</span></h3>
              <p class="text-body text-text-secondary">25 –æ–∫—Ç—è–±—Ä—è</p>
              <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0.5 0.5L12.4956 12.4956" stroke="#6B7280" stroke-linecap="round" />
                <path d="M0.504395 12.4956L12.5 0.499984" stroke="#6B7280" stroke-linecap="round" />
              </svg>
            </li>
          </ul>
        </div>
        <button class="text-accent btn btn-outline mt-auto">–í–µ—Ä–Ω—É—Ç—å—Å—è</button>
      </div>
    </template>

    <template id="balance-page">
      <div class="card flex flex-col">
        <div class="space-y-3">
          <header class="text-body flex items-center justify-between gap-2">
            <h3 class="text-text-secondary">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</h3>
            <p id="per-day" class="text-primary">2000 ‚ÇΩ –≤ –¥–µ–Ω—å</p>
          </header>
          <div class="flex items-end gap-2">
            <h1 id="total">9000 <span class="font-normal">‚ÇΩ</span></h1>
            <p id="period" class="text-text-secondary text-body">–Ω–∞ 5 –¥–Ω–µ–π</p>
          </div>
        </div>
        <label class="text-text-secondary text-caption flex flex-col gap-1">
          <span class="pl-3">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</span>
          <input id="topup-amount" class="input" type="text" placeholder="10 000 ‚ÇΩ" required />
        </label>
        <div class="relative flex flex-col gap-0.5 pb-px">
          <label for="trigger-button" class="text-caption text-text-secondary px-3">–ù–∞ —Å—Ä–æ–∫</label>
          <button id="dropdown-trigger-button" class="input btn flex h-12 cursor-pointer items-center justify-between gap-3 rounded-sm! px-3!" type="button">
            <p id="dropdown-trigger-text" class="text-text-secondary text-body">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ–∫</p>
            <svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0.75 0.75L8.75 8.75L16.75 0.75" stroke="#6B7280" stroke-width="1.5" stroke-linecap="round" />
            </svg>
          </button>
          <ul id="dropdown-list" class="dropdown hidden">
            <li>
              <button type="button">
                <p>–î–µ–Ω—å</p>
                <p>–¥–æ 26 –æ–∫—Ç—è–±—Ä—è</p>
              </button>
            </li>
            <li>
              <button type="button">
                <p>–î–µ–Ω—å</p>
                <p>–¥–æ 26 –æ–∫—Ç—è–±—Ä—è</p>
              </button>
            </li>
          </ul>
        </div>
        <button class="text-accent btn-primary btn mt-auto">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </template>

    <template id="start-page"> main </template>

    <template id="start-block">
      <div class="card">
        <h1 class="text-text-primary">–ù–∞—á–Ω—ë–º!</h1>
        <label class="text-text-secondary text-caption flex flex-col gap-1">
          <span class="px-3">–£–∫–∞–∂–∏—Ç–µ –±–∞–ª–∞–Ω—Å</span>
          <input class="input" type="number" placeholder="10 000 ‚ÇΩ" required />
        </label>
        <div id="date-dropdown-placeholder"></div>
        <button id="calculate-budget-button" class="text-accent btn btn-primary mt-auto w-full">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
      </div>
    </template>

    <template id="balance-today-block">
      <div class="card">
        <header class="space-y-0.5">
          <p class="text-accent text-text-secondary">–ù–∞ —Å–µ–≥–æ–¥–Ω—è –¥–æ—Å—Ç—É–ø–Ω–æ</p>
          <h1 id="available-balance">
            <span id="available-balance-value">1000 </span>
            <span class="font-inter font-normal">‚ÇΩ</span>
            <span class="text-text-secondary">
              /
              <span id="balance-per-day">2000</span>
            </span>
          </h1>
        </header>
        <p id="message" class="text-text-primary text-caption">üéâ –û—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–∏–ª–∏—Å—å ‚Äî —Å–µ–≥–æ–¥–Ω—è –≤—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ª–∏–º–∏—Ç–∞!</p>
        <form id="new-transaction-form">
          <label class="text-text-secondary text-caption flex flex-col gap-1">
            <span class="pl-3">–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–∞—Ç—É</span>
            <input id="new-transaction-input" class="input" type="number" min="0" placeholder="0 ‚ÇΩ" required />
          </label>
        </form>
      </div>
    </template>

    <template id="balance-block">
      <div class="card">
        <div class="space-y-0.5">
          <header class="text-body flex items-center justify-between gap-2">
            <p class="text-text-secondary">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</p>
            <p class="text-primary">
              <span id="balance-per-day">2000</span>
              ‚ÇΩ –≤ –¥–µ–Ω—å
            </p>
          </header>
          <div class="flex items-end gap-2">
            <h1>
              <span id="total-balance">9000</span>
              <span class="font-normal">‚ÇΩ</span>
            </h1>
            <p class="text-text-secondary text-body">–Ω–∞ <span id="period">5</span> –¥–Ω–µ–π</p>
          </div>
        </div>
        <div class="flex items-center justify-between gap-4">
          <!-- TODO: Replace this with links and handle them via router -->
          <button class="btn text-accent btn-outline flex-1">–ò–∑–º–µ–Ω–∏—Ç—å</button>
          <button class="btn text-accent btn-outline min-w-max flex-1 md:hidden">–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤</button>
        </div>
      </div>
    </template>

    <template id="history-block">
      <div class="card hidden flex-col md:flex">
        <div class="space-y-4">
          <header class="space-y-1">
            <p class="text-body text-text-secondary">–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤</p>
            <p class="text-caption text-primary">–°—Ä–µ–¥–Ω–∏–µ —Ç—Ä–∞—Ç—ã –≤ –¥–µ–Ω—å: <span id="average-spent-per-day">1050</span> ‚ÇΩ</p>
          </header>
          <ul id="history-list" class="history-list">
            <li class="flex items-center justify-between py-1!">
              <h3 class="text-text-primary">200 <span class="font-inter">‚ÇΩ</span></h3>
              <p class="text-body text-text-secondary">25 –æ–∫—Ç—è–±—Ä—è</p>
            </li>
            <li class="flex items-center justify-between py-1!">
              <h3 class="text-text-primary">200 <span class="font-inter">‚ÇΩ</span></h3>
              <p class="text-body text-text-secondary">25 –æ–∫—Ç—è–±—Ä—è</p>
            </li>
          </ul>
        </div>
        <!-- TODO: Replace this with links and handle them via router -->
        <button class="text-accent btn btn-outline flex-1">–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é</button>
      </div>
    </template>

    <template id="history-list-item">
      <li class="flex items-center justify-between">
        <h3 class="text-text-primary">
          <span id="spent-amount">200</span>
          <span class="font-inter">‚ÇΩ</span>
        </h3>
        <p id="spent-date" class="text-body text-text-secondary">25 –æ–∫—Ç—è–±—Ä—è</p>
      </li>
    </template>

    <template id="date-picker-list">
      <ul class="date-picker-list">
        <li>
          <button type="button">
            <p>–î–µ–Ω—å</p>
            <p>–¥–æ 26 –æ–∫—Ç—è–±—Ä—è</p>
          </button>
        </li>
        <li>
          <button type="button">
            <p>–î–µ–Ω—å</p>
            <p>–¥–æ 26 –æ–∫—Ç—è–±—Ä—è</p>
          </button>
        </li>
      </ul>
    </template>
    <!-- Dropdown list item template -->
    <template id="date-picker-list-item">
      <li>
        <button class="hover:bg-primary/10 hover:text-primary text-body flex cursor-pointer justify-between gap-3 px-3 py-0.5 transition-colors" type="button">
          <span id="period">–î–µ–Ω—å</span>
          <span id="until-date">–¥–æ 26 –æ–∫—Ç—è–±—Ä—è</span>
        </button>
      </li>
    </template>

    <!-- Dropdown template -->
    <template id="date-picker">
      <div class="relative flex flex-col gap-0.5 pb-px">
        <label for="trigger-button" class="text-caption text-text-secondary px-3">–ù–∞ —Å—Ä–æ–∫</label>
        <button id="dropdown-trigger-button" class="input btn flex h-12 cursor-pointer items-center justify-between gap-3 rounded-sm! px-3!" type="button">
          <p id="dropdown-trigger-text" class="text-text-secondary text-body">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ–∫</p>
          <svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.75 0.75L8.75 8.75L16.75 0.75" stroke="#6B7280" stroke-width="1.5" stroke-linecap="round" />
          </svg>
        </button>
        <div id="date-picker-popup" class="bg-foreground border-border shadow-e2 absolute bottom-0 hidden w-full translate-y-full rounded-sm border"></div>
      </div>
    </template>

    <!-- Calendar button template -->
    <template id="date-picker-calendar-grid-item">
      <li>
        <button class="disabled:bg-foreground disabled:text-background bg-background text-body text-text-primary focus-visible:bg-primary focus-visible:text-foreground hover:bg-primary/10 hover:text-primary flex h-8 w-7.5 cursor-pointer items-center justify-center rounded-xs p-2 focus-visible:outline-none disabled:cursor-auto" type="button">1</button>
      </li>
    </template>

    <!-- Calendar template -->
    <template id="date-picker-calendar">
      <div class="flex items-center gap-3 p-4 pb-2">
        <button id="prev-button" class="cursor-pointer" type="button">
          <svg width="10" height="18" viewBox="0 0 10 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9.06055 0.75L1.06055 8.75L9.06055 16.75" stroke="#6B7280" stroke-width="1.5" stroke-linecap="round" />
          </svg>
        </button>
        <div class="flex-1">
          <header class="text-text-primary flex items-center justify-between gap-0.5 px-2">
            <h3 id="month">–û–∫—Ç—è–±—Ä—å</h3>
            <p id="year" class="text-body">2025</p>
          </header>
          <div class="flex flex-col gap-1 p-2">
            <ul class="text-caption text-text-secondary grid grid-cols-7 gap-0.5">
              <li class="px-2">–ø–Ω</li>
              <li class="px-2">–≤—Ç</li>
              <li class="px-2">—Å—Ä</li>
              <li class="px-2">—á—Ç</li>
              <li class="px-2">–ø—Ç</li>
              <li class="px-2">—Å–±</li>
              <li class="px-2">–≤—Å</li>
            </ul>
            <ul id="calendar-grid" class="text-body text-text-primary grid grid-cols-7 grid-rows-6 gap-0.5 text-center"></ul>
          </div>
        </div>
        <button id="next-button" class="cursor-pointer" type="button">
          <svg width="10" height="18" viewBox="0 0 10 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.75 16.75L8.75 8.75L0.749999 0.749999" stroke="#6B7280" stroke-width="1.5" stroke-linecap="round" />
          </svg>
        </button>
      </div>
    </template>

    <!-- Top up form block template -->
    <template id="top-up-form">
      <form class="bg-foreground border-border shadow-e1 flex flex-col gap-6 rounded-2xl border p-6">
        <div class="flex flex-col gap-3">
          <div class="text-body flex items-center justify-between gap-2">
            <p class="text-text-secondary">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</p>
            <p id="per-day" class="text-primary">2000 ‚ÇΩ –≤ –¥–µ–Ω—å</p>
          </div>
          <label class="text-text-secondary text-caption flex flex-col gap-1">
            <span class="pl-3">–í–∞—à –±–∞–ª–∞–Ω—Å</span>
            <input id="balance" class="input" type="text" placeholder="0 ‚ÇΩ" required />
          </label>
          <label class="text-text-secondary text-caption flex flex-col gap-1">
            <span class="pl-3">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</span>
            <input id="top-up" class="input" type="text" placeholder="0 ‚ÇΩ" required />
          </label>
          <!-- TODO: dropdown with date picker -->
        </div>
        <button class="text-accent primary cursor-pointer rounded-xs px-4 py-3" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </form>
    </template>

    <!-- Total balance block template -->
    <template id="total-balance-block">
      <div class="bg-foreground border-border shadow-e1 flex flex-col gap-6 rounded-2xl border p-6">
        <div class="flex flex-col gap-0.5">
          <div class="text-body flex items-center justify-between gap-2">
            <p class="text-text-secondary">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</p>
            <p id="per-day" class="text-primary">2000 ‚ÇΩ –≤ –¥–µ–Ω—å</p>
          </div>
          <div class="flex items-end gap-2">
            <h1 id="total">9000 <span class="font-normal">‚ÇΩ</span></h1>
            <p id="period" class="text-text-secondary text-body">–Ω–∞ 5 –¥–Ω–µ–π</p>
          </div>
        </div>
        <button class="text-accent btn-outline cursor-pointer rounded-xs px-4 py-3">–ò–∑–º–µ–Ω–∏—Ç—å</button>
      </div>
    </template>

    <!-- Radio button template-->
    <template id="radio-button">
      <label class="border-primary after:bg-primary relative flex h-5 w-5 items-center justify-center rounded-full border after:invisible after:absolute after:h-3 after:w-3 after:rounded-full has-checked:after:visible">
        <input class="peer sr-only" type="radio" name="test" />
      </label>
    </template>

    <!-- Checkbox template -->
    <template id="checkbox">
      <label class="has-checked:bg-primary border-primary relative flex h-5 w-5 items-center justify-center rounded border">
        <input class="peer sr-only" type="checkbox" />

        <svg class="fill-foreground h-3 w-3 peer-not-checked:hidden" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg">
          <path d="M10.8486 0.282073C10.956 0.126472 11.1109 0.0268521 11.2799 0.00468553C11.449 -0.017481 11.6186 0.0395813 11.7524 0.163572C11.8861 0.287563 11.9731 0.468553 11.9947 0.66753C12.0164 0.866507 11.9708 1.06754 11.8679 1.22729L4.9797 11.5619C4.89052 11.6957 4.77722 11.8044 4.64802 11.8801C4.51882 11.9559 4.37695 11.9967 4.23269 11.9998C4.08844 12.0029 3.94541 11.9681 3.81397 11.8979C3.68253 11.8277 3.56598 11.7239 3.47276 11.5941L0.163186 6.98116C0.105881 6.90492 0.0620724 6.81593 0.0343337 6.71944C0.00659491 6.62295 -0.00451489 6.52089 0.00165679 6.41927C0.00782847 6.31764 0.0311571 6.21849 0.0702727 6.12765C0.109388 6.0368 0.163502 5.95609 0.229435 5.89025C0.295369 5.82442 0.371792 5.77478 0.454217 5.74427C0.536643 5.71375 0.623408 5.70297 0.709416 5.71255C0.795424 5.72213 0.878941 5.75189 0.955062 5.80007C1.03118 5.84825 1.09837 5.91389 1.15269 5.99312L4.20548 10.2481L10.8486 0.282073Z" fill="white" />
        </svg>
      </label>
    </template>

    <!-- Button template -->
    <template id="button">
      <button class="text-accent primary cursor-pointer rounded-xs px-4 py-3">Button</button>
    </template>

    <!-- Input template -->
    <template id="input">
      <label class="text-text-secondary text-body flex flex-col gap-0.5">
        <span class="text-caption pl-3">Label</span>
        <input class="input text-body" type="text" placeholder="placeholder" required />
      </label>
    </template>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
